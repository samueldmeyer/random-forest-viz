<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0"/>
    <title>A Path to Random Forest</title>

    <!-- CSS  -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="css/materialize.css" type="text/css" rel="stylesheet" media="screen,projection"/>
    <link href="css/style.css" type="text/css" rel="stylesheet" media="screen,projection"/>
    <link href="css/tree_zoomin.css" type="text/css" rel="stylesheet" media="screen,projection"/>
    <link href="css/d3-annotation.css" type="text/css" rel="stylesheet" media="screen,projection"/>

</head>
<body>
    <!-- <nav class="light-blue lighten-1" role="navigation">
    <div class="nav-wrapper container"><a id="logo-container" href="#" class="brand-logo">Logo</a>
    <ul class="right hide-on-med-and-down">
    <li><a href="#">Navbar Link</a></li>
</ul>

<ul id="nav-mobile" class="side-nav">
<li><a href="#">Navbar Link</a></li>
</ul>
<a href="#" data-activates="nav-mobile" class="button-collapse"><i class="material-icons">menu</i></a>
</div>
</nav> -->
<div class="section no-pad-bot" id="index-banner">
    <div class="container">
        <br><br>
        <h1 class="header center orange-text">A Path to Random Forest</h1>
        <div class="row center">
            <h5 class="header col s12 light">A visual explanation of the random forest algorithm</h5>
        </div>
        <br><br>

    </div>
</div>
<div class="section no-pad-bot">
    <div class="container">
        <div class="row">
            <div class="main-text col s12 center">
                <img width=200 src="./img/noun_354897_cc.svg" />
                <!-- Allie Tate from Noun Project -->
            </div>
        </div>

        <!-- A tree -->
        <div class="row">
            <div class="main-text col offset-s2 s8">
                Random forest is a machine learning algorithm that builds on other machine learning. To understand random forest, you should first understand decision trees. Decision trees work like flow-charts, asking a single question about the test item, then asking more questions until they reach a conclusion. Check one out below (start on the left). If you want to know more, check out <a href='http://www.r2d3.us/'>http://www.r2d3.us/</a>
            </div>
        </div>

        <div class="row">
            <div class="main-text col s12 center" id="single_tree">
            </div>
        </div>

        <!-- blocks -->
        <div class="row">
            <div class="main-text col offset-s2 s8">
                The problem with decision trees is that they either have blind spots based on the data that was used to create them in the first place. Random forest solves this by making a bunch of trees (a forest, also known as an ensemble) and combining the results together. <br/> <br/>

                For example, below is a actual outcome we'd like to predict.
            </div>
        </div>

        <div class="row">
            <div class="main-text col offset-s2 s8" id="actual">
            </div>
        </div>

        <div class="row">
            <div class="main-text col offset-s2 s8">
                When we use one predictor, even a pretty good one, sometimes it makes mistakes.
            </div>
        </div>

        <div class="row">
            <div class="main-text col offset-s2 s8" id="predictor_1">
            </div>
        </div>

        <div class="row">
            <div class="main-text col offset-s2 s8">
                A different predictor might give pretty good but slightly different predictions.
            </div>
        </div>

        <div class="row">
            <div class="main-text col offset-s2 s8" id="predictor_2">
            </div>
        </div>

        <div class="row">
            <div class="main-text col offset-s2 s8">
                What if we can combine the power of the individual predictors to minimize our mistakes?
            </div>
        </div>

        <div class="row">
            <div class="main-text col offset-s2 s8" id="predictor_all">
            </div>
        </div>
        <div class="row">
            <div class="main-text col offset-s2 s8">
                If all trees were trained on exactly the same data, the trees would all be the same, so they would all predict the same answer, which wouldnâ€™t be any better than just having one. Instead, each tree is given a subset of the data and trained on just that subset. As a result, each tree is a specialist in using some subset of the data.
                <br><br>
                Below, we have a table where each row is a mushroom we can use to train our random forest,
                and each column is some feature of the mushroom.
                Only a small part of the table is shown because there are 8000 mushrooms and 22 features.
                Use the radio buttons below to try selecting some data and training some trees for the forest.
            </div>
        </div>
        <div class="row">
            <div class="col s3 offset-s2">
                <form action="">
                    <p>
                        <input name="group1" type="radio" id="start-build" checked />
                        <label for="start-build">Start</label>
                    </p>
                    <p>
                        <input name="group1" type="radio" id="data-button" />
                        <label for="data-button">Select Rows</label>
                    </p>
                    <p>
                        <input name="group1" type="radio" id="column-select-option" />
                        <label for="column-select-option">Select Columns</label>
                    </p>
                    <p>
                        <input name="group1" type="radio" id="train-tree-button" />
                        <label for="train-tree-button">Train Decision Tree</label>
                    </p>
                </form>
            </div>
            <div class="col s5 main-text" style="color:#9e9e9e" id="step-text">
              Click on "Select Rows" to select some mushrooms for training the first tree. They are selected with replacement, so some mushrooms might be included twice.
            </div>
        </div>
        <div id="create-forest" class="row">
            <div id="create-forest-table" class="col s6 no-padding"></div>
            <div class="col s6 no-padding">
                <svg style="width: 500px; height: 400px;"></svg>
            </div>
        </div>
        <!-- <div class="row">
        <div class="main-text col s12 center">
        <img src="./img/tree-options.png" width="500" />
    </div>
</div> -->


<!-- Tree Zooming -->
<div class="row">
    <div class="main-text col offset-s2 s8">
        As each tree is trained on different data, they grow different
        decision paths. Click each tree to see their individual judging
        criteria for if a mushroom is edible or poisonous.
    </div>
</div>


<div class="row">
    <div class="col s12" id="treelist">
    </div>
    <div class="col s12">
        <div id="collapsible_tree">
        </div>
    </div>

        </div>
        <div class="row">
            <div class="main-text col offset-s2 s8">
                If we have a new mushroom the trees have never seen before, we can use them to classify it. We let them take a vote, and the majority wins. Click below for an animation of the process.
            </div>
        </div>
        <div class="row">
          <div class="main-text col offset-s4 s4 center">
            <a class="waves-effect waves-light btn center" id="use-forest-button">Use Forest</a>
          </div>
        </div>
        <div id="use-forest" class="row">
            <div class="col s12 center">
                <svg style="width: 1000px; height: 600px;"></svg>
            </div>
        </div>
        <!-- <div class="row">
            <div class="main-text col s12 center">
                <img src="./img/forestDecision.png" width="300" />
                 https://thenounproject.com/ecem.afacan.5/collection/trees/?oq=tree&cidx=0
            </div>
        </div> -->
        <div class="row">
            <div class="main-text col offset-s2 s8">
                We hope you now understand machine learning better. If you would like to use this yourself, we used <a href="http://scikit-learn.org/stable/modules/generated/sklearn.ensemble.RandomForestClassifier.html">Python's sklearn</a>.
            </div>
        </div>
    </div>
</div>

<footer class="page-footer orange">
    <div class="container">
        <div class="row">
            <div class="col l6 s12">
                <h5 class="white-text">Sam and Yiyi</h5>
                <p class="grey-text text-lighten-4">This was made by graduate students at Berkeley School of Information to help people understand more of machine learning.</p>
            </div>
            <div class="col l6 s12">
                <h5 class="white-text">References</h5>
                <ul>
                    <li><a class="white-text" href="#!">Noun Project</a></li>
                    <li><a class="white-text" href="#!">INFO 247</a></li>
                </ul>
            </div>
        </div>
    </div>
    <div class="footer-copyright">
        <div class="container">
            <p>Enjoy!</p>
        </div>
    </div>
</footer>
<!-- forest by iconsphere from the Noun Project -->

<!-- Need to make sure if we should talk about bagging

Who is consumer?
Talk about

Add explanation of how a single tree does not generalize, or is

Why not just use one tree? Show why this a problem.
More data shown to increase intuition? -->

<!--  Scripts-->
<script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
<script src="js/materialize.js"></script>
<script src="js/init.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.8.0/d3.js"></script>
<script src="js/d3-annotation.js"></script>
<script src="js/tree-zoomin.js"></script>
<script src="js/blocks.js"></script>
<!-- <script src="https://d3js.org/d3.v4.min.js"></script> -->
<script src="js/d3v4jetpack.js"></script>

<script src="js/create-forest.js"></script>
<script src="js/use-forest.js"></script>

</body>
</html>
